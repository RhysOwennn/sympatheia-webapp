{"ast":null,"code":"!function (t, e) {\n  \"use strict\";\n\n  var i = function (t, e, i) {\n    e && Object.defineProperties(t, e), i && Object.defineProperties(t.prototype, i);\n  },\n      n = function () {\n    function t(t) {\n      var i,\n          n = this,\n          r = arguments[1] === e ? {} : arguments[1],\n          o = document.createElement(\"canvas\"),\n          s = o.getContext(\"2d\"),\n          a = document.createElement(\"canvas\"),\n          u = a.getContext(\"2d\"),\n          l = new Image(),\n          c = !1;\n      o.setAttribute(\"id\", \"chromataCanvas\"), this.options = this._mergeOptions(r), l.crossOrigin = \"Anonymous\", l.addEventListener(\"load\", function () {\n        i = h._getOutputDimensions(t, n.options.outputSize), a.width = o.width = i.width, a.height = o.height = i.height, u.drawImage(l, 0, 0, i.width, i.height), n.dimensions = i, n.imageArray = h._getImageArray(u), n.workingArray = h._getWorkingArray(u), c = !0;\n      }), l.src = t.src, this.loader = function (t) {\n        c ? t() : setTimeout(function () {\n          return n.loader(t);\n        }, 50);\n      }, this.imageArray = [], this.sourceImageElement = t, this.sourceContext = u, this.renderContext = s, this.isRunning = !1, this.iterationCount = 0;\n    }\n\n    return i(t, null, {\n      start: {\n        value: function () {\n          var t = this;\n          this.loader(function () {\n            t.isRunning = !0, void 0 === t._tick ? t._run() : t._tick();\n          });\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      stop: {\n        value: function () {\n          return this.isRunning = !1, this.iterationCount;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      toggle: {\n        value: function () {\n          return this.isRunning ? this.stop() : this.start();\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      reset: {\n        value: function () {\n          this.isRunning = !1, this._tick = e, cancelAnimationFrame(this.raf), this.renderContext.clearRect(0, 0, this.dimensions.width, this.dimensions.height), this.workingArray = h._getWorkingArray(this.sourceContext), this._removeRenderCanvas();\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _mergeOptions: {\n        value: function (t) {\n          var e = {\n            colorMode: \"color\",\n            compositeOperation: \"lighten\",\n            iterationLimit: 0,\n            key: \"low\",\n            lineWidth: 2,\n            lineMode: \"smooth\",\n            origin: [\"bottom\"],\n            outputSize: \"original\",\n            pathFinderCount: 30,\n            speed: 7,\n            turningAngle: Math.PI\n          },\n              i = {};\n\n          for (var n in e) e.hasOwnProperty(n) && (i[n] = t[n] || e[n]);\n\n          return i.origin = i.origin.constructor === Array ? i.origin : e.origin, i.pathFinderCount = this._limitToRange(i.pathFinderCount, 1, 1e4), i.lineWidth = this._limitToRange(i.lineWidth, 1, 100), i.speed = this._limitToRange(i.speed, 1, 100), i.turningAngle = this._limitToRange(i.turningAngle, .1, 10), i;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _limitToRange: {\n        value: function (t, e, i) {\n          return Math.min(Math.max(t, e), i);\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _appendRenderCanvas: {\n        value: function () {\n          var t = this.sourceImageElement.parentNode;\n          this.sourceImageElement.style.display = \"none\", t.insertBefore(this.renderContext.canvas, this.sourceImageElement.nextSibling);\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _removeRenderCanvas: {\n        value: function () {\n          this.sourceImageElement.style.display = \"\", this.renderContext.canvas.parentNode.removeChild(this.renderContext.canvas);\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _run: {\n        value: function () {\n          var t = this,\n              e = [],\n              i = this._initPathFinders(),\n              n = {\n            colorMode: this.options.colorMode,\n            lineWidth: this.options.lineWidth,\n            lineMode: this.options.lineMode,\n            speed: this.options.speed\n          };\n\n          this._appendRenderCanvas(), this.renderContext.globalCompositeOperation = this.options.compositeOperation, i.forEach(function (i) {\n            e.push(new a(t.renderContext, i, n));\n          }), this._tick = function () {\n            0 < t.options.iterationLimit && t.options.iterationLimit <= t.iterationCount && (t.isRunning = !1, t.options.iterationLimit = 0), e.forEach(function (t) {\n              return t.drawNextLine();\n            }), t.iterationCount++, t.isRunning && (t.raf = requestAnimationFrame(t._tick));\n          }, this._tick();\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _initPathFinders: {\n        value: function () {\n          var t = this,\n              e = [],\n              i = this.options.pathFinderCount,\n              n = this.options.origin,\n              r = i / n.length,\n              o = {\n            speed: this.options.speed,\n            turningAngle: this.options.turningAngle,\n            key: this.options.key\n          };\n          return -1 < n.indexOf(\"bottom\") && this._seedBottom(r, e, o), -1 < n.indexOf(\"top\") && this._seedTop(r, e, o), -1 < n.indexOf(\"left\") && this._seedLeft(r, e, o), -1 < n.indexOf(\"right\") && this._seedRight(r, e, o), n.forEach(function (i) {\n            var n = i.match(/(\\d{1,3})% (\\d{1,3})%/);\n            n && t._seedPoint(r, e, o, n[1], n[2]);\n          }), e;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _seedTop: {\n        value: function (t, e, i) {\n          var n = this,\n              r = this.dimensions.width / t;\n          i.startingVelocity = [0, this.options.speed], this._seedCreateLoop(t, e, function (t) {\n            return r * t - r / 2;\n          }, function () {\n            return n.options.speed;\n          }, i);\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _seedBottom: {\n        value: function (t, e, i) {\n          var n = this,\n              r = this.dimensions.width,\n              o = this.dimensions.height,\n              s = r / t;\n          i.startingVelocity = [0, -this.options.speed], this._seedCreateLoop(t, e, function (t) {\n            return s * t - s / 2;\n          }, function () {\n            return o - n.options.speed;\n          }, i);\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _seedLeft: {\n        value: function (t, e, i) {\n          var n = this,\n              r = this.dimensions.height / t;\n          i.startingVelocity = [this.options.speed, 0], this._seedCreateLoop(t, e, function () {\n            return n.options.speed;\n          }, function (t) {\n            return r * t - r / 2;\n          }, i);\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _seedRight: {\n        value: function (t, e, i) {\n          var n = this,\n              r = this.dimensions.width,\n              o = this.dimensions.height / t;\n          i.startingVelocity = [-this.options.speed, 0], this._seedCreateLoop(t, e, function () {\n            return r - n.options.speed;\n          }, function (t) {\n            return o * t - o / 2;\n          }, i);\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _seedPoint: {\n        value: function (t, e, i, n, r) {\n          for (var s = Math.floor(this.dimensions.width * n / 100), a = Math.floor(this.dimensions.height * r / 100), u = 1; u < t + 1; u++) {\n            var l = h._indexToRgbString(u);\n\n            switch (u % 4) {\n              case 0:\n                i.startingVelocity = [-this.options.speed, 0];\n                break;\n\n              case 1:\n                i.startingVelocity = [0, this.options.speed];\n                break;\n\n              case 2:\n                i.startingVelocity = [this.options.speed, 0];\n                break;\n\n              case 3:\n                i.startingVelocity = [0, -this.options.speed];\n            }\n\n            e.push(new o(this.imageArray, this.workingArray, l, s, a, i));\n          }\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _seedCreateLoop: {\n        value: function (t, e, i, n, r) {\n          for (var s = 1; s < t + 1; s++) {\n            var a = h._indexToRgbString(s),\n                u = i(s),\n                l = n(s);\n\n            e.push(new o(this.imageArray, this.workingArray, a, u, l, r));\n          }\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      }\n    }), t;\n  }();\n\n  t.Chromata = n;\n\n  var r = 255,\n      o = function () {\n    function t(t, i, n) {\n      var o = arguments[3] === e ? 0 : arguments[3],\n          a = arguments[4] === e ? 0 : arguments[4],\n          h = arguments[5] === e ? {} : arguments[5];\n      this.pixelArray = t, this.workingArray = i, this.arrayWidth = t[0].length, this.arrayHeight = t.length, this.x = Math.round(o), this.y = Math.round(a), this.options = h, this.pathQueue = new s(10), this.velocity = h.startingVelocity, this.targetColor = \"string\" == typeof n ? this._hexToRgb(n) : n, this.rgbIndex = this._getRgbIndex(this.targetColor), \"low\" === this.options.key ? this.comparatorFn = function (t, e) {\n        return 0 < t && t < e;\n      } : this.comparatorFn = function (t, e) {\n        return e < t && t < r;\n      };\n    }\n\n    return i(t, null, {\n      getNextPoint: {\n        value: function () {\n          var t,\n              e = 0;\n\n          do {\n            t = this._getNextPixel(), e++;\n          } while (e <= 5 && !1 === t.isPristine);\n\n          return t.nextPixel;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _getNextPixel: {\n        value: function () {\n          for (var t, e, i, n = this._getVelocityAngle(), o = \"low\" === this.options.key ? 1e5 : 0, s = this.options.turningAngle, a = Math.round(Math.sqrt(Math.pow(this.velocity[0], 2) + Math.pow(this.velocity[1], 2))), h = n - s / 2, u = -2; h <= n + s / 2; h += s / 4, u++) {\n            var l = this.x + Math.round(a * Math.cos(h)),\n                c = this.y + Math.round(a * Math.sin(h)),\n                g = r;\n\n            if (this._isInRange(l, c)) {\n              var d = this.workingArray[c][l][this.rgbIndex],\n                  f = this.pixelArray[c][l],\n                  b = f[3];\n              g = this._getColorDistance(f), this.comparatorFn(g, o) && !d && b === r && (e = [l, c, r - g], o = g);\n            }\n\n            if (0 === u) {\n              var p = this.pixelArray;\n              i = p[c] && p[c][l] && p[c][l][3] === r ? [l, c, r - g] : this.pathQueue.get(-2);\n            }\n          }\n\n          return t = void 0 !== e, (e = e || i) && (this.velocity = [e[0] - this.x, e[1] - this.y], this.y = e[1], this.x = e[0], this._updateWorkingArray(e[1], e[0]), this.pathQueue.put(e)), {\n            nextPixel: e,\n            isPristine: t\n          };\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      getColor: {\n        value: function () {\n          return {\n            r: this.targetColor[0],\n            g: this.targetColor[1],\n            b: this.targetColor[2]\n          };\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _getVelocityAngle: {\n        value: function () {\n          var t = this.x + this.velocity[0],\n              e = this.y + this.velocity[1],\n              i = this.options.speed,\n              n = this.y + this.velocity[1] - this.y,\n              r = this.x + this.velocity[0] - this.x;\n          return (t <= i || this.arrayWidth - i <= t) && (r *= -1), (e <= i || this.arrayHeight - i <= e) && (n *= -1), Math.atan2(n, r);\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _hexToRgb: {\n        value: function (t) {\n          t = t.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function (t, e, i, n) {\n            return e + e + i + i + n + n;\n          });\n          var e = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(t);\n          return e ? [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)] : null;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _getColorDistance: {\n        value: function (t) {\n          return r - t[this.rgbIndex];\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _isInRange: {\n        value: function (t, e) {\n          return 0 < t && t < this.arrayWidth && 0 < e && e < this.arrayHeight;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _updateWorkingArray: {\n        value: function (t, e) {\n          this.workingArray[t][e][this.rgbIndex] = !0;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _getRgbIndex: {\n        value: function (t) {\n          var e;\n\n          for (e = 0; e < 2 && 0 === t[e]; e++);\n\n          return e;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      }\n    }), t;\n  }(),\n      s = function () {\n    function t(t) {\n      this.queue = [], this.size = t;\n    }\n\n    return i(t, null, {\n      put: {\n        value: function (t) {\n          this.queue.push(t), this.size < this.queue.length && this.queue.shift();\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      get: {\n        value: function () {\n          var t = arguments[0] === e ? 0 : arguments[0],\n              i = this.queue.length;\n          return 0 <= t && t <= i ? this.queue[t] : t < 0 && Math.abs(t) <= i ? this.queue[i + t] : e;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      contains: {\n        value: function (t) {\n          return 0 < this.queue.filter(function (e) {\n            return e[0] === t[0] && e[1] === t[1];\n          }).length;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      }\n    }), t;\n  }(),\n      a = function () {\n    function t(t, e, i) {\n      this.context = t, this.pathFinder = e, this.options = i, this.color = e.getColor();\n    }\n\n    return i(t, null, {\n      drawNextLine: {\n        value: function () {\n          \"smooth\" === this.options.lineMode ? this._drawLineSmooth() : \"square\" === this.options.lineMode ? this._drawLineSquare() : this._drawPoint();\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _drawLineSmooth: {\n        value: function () {\n          var t,\n              e,\n              i,\n              n = this.pathFinder.getNextPoint(this.context);\n\n          if (n) {\n            if (void 0 === this.currentPoint && (this.currentPoint = n), void 0 === this.controlPoint && (this.controlPoint = n), t = Math.round((this.controlPoint[0] + n[0]) / 2), e = Math.round((this.controlPoint[1] + n[1]) / 2), i = Math.floor((this.currentPoint[2] + n[2]) / 2), this._getLineLength(this.currentPoint, n) <= 3 * this.options.speed) {\n              var r,\n                  o = this.currentPoint[2],\n                  s = n[2];\n              r = this._createGradient(this.currentPoint, n, o, s), this.context.strokeStyle = r, this.context.lineWidth = this.options.lineWidth, this.context.lineCap = \"round\", this.context.beginPath(), this.context.moveTo(this.currentPoint[0], this.currentPoint[1]), this.context.quadraticCurveTo(this.controlPoint[0], this.controlPoint[1], t, e), this.context.stroke();\n            }\n\n            this.currentPoint = [t, e, i], this.controlPoint = n;\n          }\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _drawLineSquare: {\n        value: function () {\n          var t = this.pathFinder.getNextPoint(this.context);\n\n          if (t) {\n            if (void 0 === this.currentPoint && (this.currentPoint = t), this._getLineLength(this.currentPoint, t) <= this.options.speed + 1) {\n              var e,\n                  i = this.currentPoint[2],\n                  n = t[2];\n              e = this._createGradient(this.currentPoint, t, i, n), this.context.strokeStyle = e, this.context.lineWidth = this.options.lineWidth, this.context.lineCap = \"round\", this.context.beginPath(), this.context.moveTo(this.currentPoint[0], this.currentPoint[1]), this.context.lineTo(t[0], t[1]), this.context.stroke();\n            }\n\n            this.currentPoint = t;\n          }\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _drawPoint: {\n        value: function () {\n          var t = this.pathFinder.getNextPoint(this.context);\n          t && (void 0 === this.currentPoint && (this.currentPoint = t), this._getLineLength(this.currentPoint, t) >= 2 * this.options.speed && (this.context.beginPath(), this.context.arc(t[0], t[1], this.options.lineWidth, 0, 2 * Math.PI, !1), this.context.fillStyle = this._getStrokeColor(t[2]), this.context.fill(), this.currentPoint = t));\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _getLineLength: {\n        value: function (t, e) {\n          var i = e[0] - t[0],\n              n = e[1] - t[1];\n          return Math.round(Math.sqrt(i * i + n * n));\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _createGradient: {\n        value: function (t, e, i, n) {\n          var r = this.context.createLinearGradient(t[0], t[1], e[0], e[1]);\n          return r.addColorStop(0, this._getStrokeColor(i)), r.addColorStop(1, this._getStrokeColor(n)), r;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _getStrokeColor: {\n        value: function (t) {\n          return \"color\" === this.options.colorMode ? \"rgba(\" + (0 !== this.color.r ? t : 0) + \", \" + (0 !== this.color.g ? t : 0) + \", \" + (0 !== this.color.b ? t : 0) + \", 1)\" : \"rgba(\" + t + \", \" + t + \", \" + t + \", 1)\";\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      }\n    }), t;\n  }(),\n      h = function () {\n    function t() {}\n\n    return i(t, {\n      _indexToRgbString: {\n        value: function (t) {\n          return t % 3 == 0 ? \"#0000ff\" : t % 2 == 0 ? \"#00ff00\" : \"#ff0000\";\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _getImageArray: {\n        value: function (t) {\n          for (var e = t.canvas.width, i = t.canvas.height, n = t.getImageData(0, 0, e, i), r = [], o = 0; o < i; o++) {\n            r.push([]);\n\n            for (var s = 0; s < e; s++) {\n              for (var a = [], h = o * e * 4 + 4 * s, u = 0; u < 4; u++) a[u] = n.data[h + u];\n\n              r[o].push(a);\n            }\n          }\n\n          return r;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _getWorkingArray: {\n        value: function (t) {\n          for (var e = t.canvas.width, i = t.canvas.height, n = [], r = 0; r < i; r++) {\n            n.push([]);\n\n            for (var o = 0; o < e; o++) n[r].push([!1, !1, !1]);\n          }\n\n          return n;\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      },\n      _getOutputDimensions: {\n        value: function (t, e) {\n          var i, n;\n          if (\"original\" === e) i = t.width, n = t.height;else {\n            var r = t.parentNode,\n                o = r.clientWidth / t.width,\n                s = r.clientHeight / t.height,\n                a = s <= o ? s : o;\n            i = t.width * a, n = t.height * a;\n          }\n          return {\n            width: i,\n            height: n\n          };\n        },\n        writable: !0,\n        enumerable: !0,\n        configurable: !0\n      }\n    }), t;\n  }();\n}(window);","map":{"version":3,"sources":["C:\\Users\\King Riz\\Downloads\\insta-repo-app-master\\src\\Pages\\Explore\\chromatamin.js"],"names":["t","e","i","Object","defineProperties","prototype","n","r","arguments","o","document","createElement","s","getContext","a","u","l","Image","c","setAttribute","options","_mergeOptions","crossOrigin","addEventListener","h","_getOutputDimensions","outputSize","width","height","drawImage","dimensions","imageArray","_getImageArray","workingArray","_getWorkingArray","src","loader","setTimeout","sourceImageElement","sourceContext","renderContext","isRunning","iterationCount","start","value","_tick","_run","writable","enumerable","configurable","stop","toggle","reset","cancelAnimationFrame","raf","clearRect","_removeRenderCanvas","colorMode","compositeOperation","iterationLimit","key","lineWidth","lineMode","origin","pathFinderCount","speed","turningAngle","Math","PI","hasOwnProperty","constructor","Array","_limitToRange","min","max","_appendRenderCanvas","parentNode","style","display","insertBefore","canvas","nextSibling","removeChild","_initPathFinders","globalCompositeOperation","forEach","push","drawNextLine","requestAnimationFrame","length","indexOf","_seedBottom","_seedTop","_seedLeft","_seedRight","match","_seedPoint","startingVelocity","_seedCreateLoop","floor","_indexToRgbString","Chromata","pixelArray","arrayWidth","arrayHeight","x","round","y","pathQueue","velocity","targetColor","_hexToRgb","rgbIndex","_getRgbIndex","comparatorFn","getNextPoint","_getNextPixel","isPristine","nextPixel","_getVelocityAngle","sqrt","pow","cos","sin","g","_isInRange","d","f","b","_getColorDistance","p","get","_updateWorkingArray","put","getColor","atan2","replace","exec","parseInt","queue","size","shift","abs","contains","filter","context","pathFinder","color","_drawLineSmooth","_drawLineSquare","_drawPoint","currentPoint","controlPoint","_getLineLength","_createGradient","strokeStyle","lineCap","beginPath","moveTo","quadraticCurveTo","stroke","lineTo","arc","fillStyle","_getStrokeColor","fill","createLinearGradient","addColorStop","getImageData","data","clientWidth","clientHeight","window"],"mappings":"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","sourcesContent":["!function(t,e){\"use strict\";var i=function(t,e,i){e&&Object.defineProperties(t,e),i&&Object.defineProperties(t.prototype,i)},n=function(){function t(t){var i,n=this,r=arguments[1]===e?{}:arguments[1],o=document.createElement(\"canvas\"),s=o.getContext(\"2d\"),a=document.createElement(\"canvas\"),u=a.getContext(\"2d\"),l=new Image,c=!1;o.setAttribute(\"id\",\"chromataCanvas\"),this.options=this._mergeOptions(r),l.crossOrigin=\"Anonymous\",l.addEventListener(\"load\",function(){i=h._getOutputDimensions(t,n.options.outputSize),a.width=o.width=i.width,a.height=o.height=i.height,u.drawImage(l,0,0,i.width,i.height),n.dimensions=i,n.imageArray=h._getImageArray(u),n.workingArray=h._getWorkingArray(u),c=!0}),l.src=t.src,this.loader=function(t){c?t():setTimeout(function(){return n.loader(t)},50)},this.imageArray=[],this.sourceImageElement=t,this.sourceContext=u,this.renderContext=s,this.isRunning=!1,this.iterationCount=0}return i(t,null,{start:{value:function(){var t=this;this.loader(function(){t.isRunning=!0,void 0===t._tick?t._run():t._tick()})},writable:!0,enumerable:!0,configurable:!0},stop:{value:function(){return this.isRunning=!1,this.iterationCount},writable:!0,enumerable:!0,configurable:!0},toggle:{value:function(){return this.isRunning?this.stop():this.start()},writable:!0,enumerable:!0,configurable:!0},reset:{value:function(){this.isRunning=!1,this._tick=e,cancelAnimationFrame(this.raf),this.renderContext.clearRect(0,0,this.dimensions.width,this.dimensions.height),this.workingArray=h._getWorkingArray(this.sourceContext),this._removeRenderCanvas()},writable:!0,enumerable:!0,configurable:!0},_mergeOptions:{value:function(t){var e={colorMode:\"color\",compositeOperation:\"lighten\",iterationLimit:0,key:\"low\",lineWidth:2,lineMode:\"smooth\",origin:[\"bottom\"],outputSize:\"original\",pathFinderCount:30,speed:7,turningAngle:Math.PI},i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=t[n]||e[n]);return i.origin=i.origin.constructor===Array?i.origin:e.origin,i.pathFinderCount=this._limitToRange(i.pathFinderCount,1,1e4),i.lineWidth=this._limitToRange(i.lineWidth,1,100),i.speed=this._limitToRange(i.speed,1,100),i.turningAngle=this._limitToRange(i.turningAngle,.1,10),i},writable:!0,enumerable:!0,configurable:!0},_limitToRange:{value:function(t,e,i){return Math.min(Math.max(t,e),i)},writable:!0,enumerable:!0,configurable:!0},_appendRenderCanvas:{value:function(){var t=this.sourceImageElement.parentNode;this.sourceImageElement.style.display=\"none\",t.insertBefore(this.renderContext.canvas,this.sourceImageElement.nextSibling)},writable:!0,enumerable:!0,configurable:!0},_removeRenderCanvas:{value:function(){this.sourceImageElement.style.display=\"\",this.renderContext.canvas.parentNode.removeChild(this.renderContext.canvas)},writable:!0,enumerable:!0,configurable:!0},_run:{value:function(){var t=this,e=[],i=this._initPathFinders(),n={colorMode:this.options.colorMode,lineWidth:this.options.lineWidth,lineMode:this.options.lineMode,speed:this.options.speed};this._appendRenderCanvas(),this.renderContext.globalCompositeOperation=this.options.compositeOperation,i.forEach(function(i){e.push(new a(t.renderContext,i,n))}),this._tick=function(){0<t.options.iterationLimit&&t.options.iterationLimit<=t.iterationCount&&(t.isRunning=!1,t.options.iterationLimit=0),e.forEach(function(t){return t.drawNextLine()}),t.iterationCount++,t.isRunning&&(t.raf=requestAnimationFrame(t._tick))},this._tick()},writable:!0,enumerable:!0,configurable:!0},_initPathFinders:{value:function(){var t=this,e=[],i=this.options.pathFinderCount,n=this.options.origin,r=i/n.length,o={speed:this.options.speed,turningAngle:this.options.turningAngle,key:this.options.key};return-1<n.indexOf(\"bottom\")&&this._seedBottom(r,e,o),-1<n.indexOf(\"top\")&&this._seedTop(r,e,o),-1<n.indexOf(\"left\")&&this._seedLeft(r,e,o),-1<n.indexOf(\"right\")&&this._seedRight(r,e,o),n.forEach(function(i){var n=i.match(/(\\d{1,3})% (\\d{1,3})%/);n&&t._seedPoint(r,e,o,n[1],n[2])}),e},writable:!0,enumerable:!0,configurable:!0},_seedTop:{value:function(t,e,i){var n=this,r=this.dimensions.width/t;i.startingVelocity=[0,this.options.speed],this._seedCreateLoop(t,e,function(t){return r*t-r/2},function(){return n.options.speed},i)},writable:!0,enumerable:!0,configurable:!0},_seedBottom:{value:function(t,e,i){var n=this,r=this.dimensions.width,o=this.dimensions.height,s=r/t;i.startingVelocity=[0,-this.options.speed],this._seedCreateLoop(t,e,function(t){return s*t-s/2},function(){return o-n.options.speed},i)},writable:!0,enumerable:!0,configurable:!0},_seedLeft:{value:function(t,e,i){var n=this,r=this.dimensions.height/t;i.startingVelocity=[this.options.speed,0],this._seedCreateLoop(t,e,function(){return n.options.speed},function(t){return r*t-r/2},i)},writable:!0,enumerable:!0,configurable:!0},_seedRight:{value:function(t,e,i){var n=this,r=this.dimensions.width,o=this.dimensions.height/t;i.startingVelocity=[-this.options.speed,0],this._seedCreateLoop(t,e,function(){return r-n.options.speed},function(t){return o*t-o/2},i)},writable:!0,enumerable:!0,configurable:!0},_seedPoint:{value:function(t,e,i,n,r){for(var s=Math.floor(this.dimensions.width*n/100),a=Math.floor(this.dimensions.height*r/100),u=1;u<t+1;u++){var l=h._indexToRgbString(u);switch(u%4){case 0:i.startingVelocity=[-this.options.speed,0];break;case 1:i.startingVelocity=[0,this.options.speed];break;case 2:i.startingVelocity=[this.options.speed,0];break;case 3:i.startingVelocity=[0,-this.options.speed]}e.push(new o(this.imageArray,this.workingArray,l,s,a,i))}},writable:!0,enumerable:!0,configurable:!0},_seedCreateLoop:{value:function(t,e,i,n,r){for(var s=1;s<t+1;s++){var a=h._indexToRgbString(s),u=i(s),l=n(s);e.push(new o(this.imageArray,this.workingArray,a,u,l,r))}},writable:!0,enumerable:!0,configurable:!0}}),t}();t.Chromata=n;var r=255,o=function(){function t(t,i,n){var o=arguments[3]===e?0:arguments[3],a=arguments[4]===e?0:arguments[4],h=arguments[5]===e?{}:arguments[5];this.pixelArray=t,this.workingArray=i,this.arrayWidth=t[0].length,this.arrayHeight=t.length,this.x=Math.round(o),this.y=Math.round(a),this.options=h,this.pathQueue=new s(10),this.velocity=h.startingVelocity,this.targetColor=\"string\"==typeof n?this._hexToRgb(n):n,this.rgbIndex=this._getRgbIndex(this.targetColor),\"low\"===this.options.key?this.comparatorFn=function(t,e){return 0<t&&t<e}:this.comparatorFn=function(t,e){return e<t&&t<r}}return i(t,null,{getNextPoint:{value:function(){var t,e=0;do{t=this._getNextPixel(),e++}while(e<=5&&!1===t.isPristine);return t.nextPixel},writable:!0,enumerable:!0,configurable:!0},_getNextPixel:{value:function(){for(var t,e,i,n=this._getVelocityAngle(),o=\"low\"===this.options.key?1e5:0,s=this.options.turningAngle,a=Math.round(Math.sqrt(Math.pow(this.velocity[0],2)+Math.pow(this.velocity[1],2))),h=n-s/2,u=-2;h<=n+s/2;h+=s/4,u++){var l=this.x+Math.round(a*Math.cos(h)),c=this.y+Math.round(a*Math.sin(h)),g=r;if(this._isInRange(l,c)){var d=this.workingArray[c][l][this.rgbIndex],f=this.pixelArray[c][l],b=f[3];g=this._getColorDistance(f),this.comparatorFn(g,o)&&!d&&b===r&&(e=[l,c,r-g],o=g)}if(0===u){var p=this.pixelArray;i=p[c]&&p[c][l]&&p[c][l][3]===r?[l,c,r-g]:this.pathQueue.get(-2)}}return t=void 0!==e,(e=e||i)&&(this.velocity=[e[0]-this.x,e[1]-this.y],this.y=e[1],this.x=e[0],this._updateWorkingArray(e[1],e[0]),this.pathQueue.put(e)),{nextPixel:e,isPristine:t}},writable:!0,enumerable:!0,configurable:!0},getColor:{value:function(){return{r:this.targetColor[0],g:this.targetColor[1],b:this.targetColor[2]}},writable:!0,enumerable:!0,configurable:!0},_getVelocityAngle:{value:function(){var t=this.x+this.velocity[0],e=this.y+this.velocity[1],i=this.options.speed,n=this.y+this.velocity[1]-this.y,r=this.x+this.velocity[0]-this.x;return(t<=i||this.arrayWidth-i<=t)&&(r*=-1),(e<=i||this.arrayHeight-i<=e)&&(n*=-1),Math.atan2(n,r)},writable:!0,enumerable:!0,configurable:!0},_hexToRgb:{value:function(t){t=t.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null},writable:!0,enumerable:!0,configurable:!0},_getColorDistance:{value:function(t){return r-t[this.rgbIndex]},writable:!0,enumerable:!0,configurable:!0},_isInRange:{value:function(t,e){return 0<t&&t<this.arrayWidth&&0<e&&e<this.arrayHeight},writable:!0,enumerable:!0,configurable:!0},_updateWorkingArray:{value:function(t,e){this.workingArray[t][e][this.rgbIndex]=!0},writable:!0,enumerable:!0,configurable:!0},_getRgbIndex:{value:function(t){var e;for(e=0;e<2&&0===t[e];e++);return e},writable:!0,enumerable:!0,configurable:!0}}),t}(),s=function(){function t(t){this.queue=[],this.size=t}return i(t,null,{put:{value:function(t){this.queue.push(t),this.size<this.queue.length&&this.queue.shift()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(){var t=arguments[0]===e?0:arguments[0],i=this.queue.length;return 0<=t&&t<=i?this.queue[t]:t<0&&Math.abs(t)<=i?this.queue[i+t]:e},writable:!0,enumerable:!0,configurable:!0},contains:{value:function(t){return 0<this.queue.filter(function(e){return e[0]===t[0]&&e[1]===t[1]}).length},writable:!0,enumerable:!0,configurable:!0}}),t}(),a=function(){function t(t,e,i){this.context=t,this.pathFinder=e,this.options=i,this.color=e.getColor()}return i(t,null,{drawNextLine:{value:function(){\"smooth\"===this.options.lineMode?this._drawLineSmooth():\"square\"===this.options.lineMode?this._drawLineSquare():this._drawPoint()},writable:!0,enumerable:!0,configurable:!0},_drawLineSmooth:{value:function(){var t,e,i,n=this.pathFinder.getNextPoint(this.context);if(n){if(void 0===this.currentPoint&&(this.currentPoint=n),void 0===this.controlPoint&&(this.controlPoint=n),t=Math.round((this.controlPoint[0]+n[0])/2),e=Math.round((this.controlPoint[1]+n[1])/2),i=Math.floor((this.currentPoint[2]+n[2])/2),this._getLineLength(this.currentPoint,n)<=3*this.options.speed){var r,o=this.currentPoint[2],s=n[2];r=this._createGradient(this.currentPoint,n,o,s),this.context.strokeStyle=r,this.context.lineWidth=this.options.lineWidth,this.context.lineCap=\"round\",this.context.beginPath(),this.context.moveTo(this.currentPoint[0],this.currentPoint[1]),this.context.quadraticCurveTo(this.controlPoint[0],this.controlPoint[1],t,e),this.context.stroke()}this.currentPoint=[t,e,i],this.controlPoint=n}},writable:!0,enumerable:!0,configurable:!0},_drawLineSquare:{value:function(){var t=this.pathFinder.getNextPoint(this.context);if(t){if(void 0===this.currentPoint&&(this.currentPoint=t),this._getLineLength(this.currentPoint,t)<=this.options.speed+1){var e,i=this.currentPoint[2],n=t[2];e=this._createGradient(this.currentPoint,t,i,n),this.context.strokeStyle=e,this.context.lineWidth=this.options.lineWidth,this.context.lineCap=\"round\",this.context.beginPath(),this.context.moveTo(this.currentPoint[0],this.currentPoint[1]),this.context.lineTo(t[0],t[1]),this.context.stroke()}this.currentPoint=t}},writable:!0,enumerable:!0,configurable:!0},_drawPoint:{value:function(){var t=this.pathFinder.getNextPoint(this.context);t&&(void 0===this.currentPoint&&(this.currentPoint=t),this._getLineLength(this.currentPoint,t)>=2*this.options.speed&&(this.context.beginPath(),this.context.arc(t[0],t[1],this.options.lineWidth,0,2*Math.PI,!1),this.context.fillStyle=this._getStrokeColor(t[2]),this.context.fill(),this.currentPoint=t))},writable:!0,enumerable:!0,configurable:!0},_getLineLength:{value:function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.round(Math.sqrt(i*i+n*n))},writable:!0,enumerable:!0,configurable:!0},_createGradient:{value:function(t,e,i,n){var r=this.context.createLinearGradient(t[0],t[1],e[0],e[1]);return r.addColorStop(0,this._getStrokeColor(i)),r.addColorStop(1,this._getStrokeColor(n)),r},writable:!0,enumerable:!0,configurable:!0},_getStrokeColor:{value:function(t){return\"color\"===this.options.colorMode?\"rgba(\"+(0!==this.color.r?t:0)+\", \"+(0!==this.color.g?t:0)+\", \"+(0!==this.color.b?t:0)+\", 1)\":\"rgba(\"+t+\", \"+t+\", \"+t+\", 1)\"},writable:!0,enumerable:!0,configurable:!0}}),t}(),h=function(){function t(){}return i(t,{_indexToRgbString:{value:function(t){return t%3==0?\"#0000ff\":t%2==0?\"#00ff00\":\"#ff0000\"},writable:!0,enumerable:!0,configurable:!0},_getImageArray:{value:function(t){for(var e=t.canvas.width,i=t.canvas.height,n=t.getImageData(0,0,e,i),r=[],o=0;o<i;o++){r.push([]);for(var s=0;s<e;s++){for(var a=[],h=o*e*4+4*s,u=0;u<4;u++)a[u]=n.data[h+u];r[o].push(a)}}return r},writable:!0,enumerable:!0,configurable:!0},_getWorkingArray:{value:function(t){for(var e=t.canvas.width,i=t.canvas.height,n=[],r=0;r<i;r++){n.push([]);for(var o=0;o<e;o++)n[r].push([!1,!1,!1])}return n},writable:!0,enumerable:!0,configurable:!0},_getOutputDimensions:{value:function(t,e){var i,n;if(\"original\"===e)i=t.width,n=t.height;else{var r=t.parentNode,o=r.clientWidth/t.width,s=r.clientHeight/t.height,a=s<=o?s:o;i=t.width*a,n=t.height*a}return{width:i,height:n}},writable:!0,enumerable:!0,configurable:!0}}),t}()}(window);\n"]},"metadata":{},"sourceType":"module"}